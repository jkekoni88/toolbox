* { box-sizing: border-box; }
html, body { margin:0; height:100%; }
body {
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Arial, sans-serif;
  background: #111827;
  color: #f9fafb;
  position: relative;
  overflow-x: hidden;
}

body::before,
body::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

body::before {
  background:
    radial-gradient(circle at top left, rgba(170, 10, 10, 0.96) 0%, rgba(140, 5, 5, 0.88) 18%, rgba(45, 0, 0, 0.5) 40%, rgba(30, 0, 0, 0) 65%),
    radial-gradient(circle at bottom right, rgba(14, 24, 120, 0.85) 0%, rgba(30, 0, 0, 0.65) 32%, rgba(30, 0, 0, 0) 62%);
  filter: blur(90px);
  opacity: 0.9;
}

body::after {
  background:
    radial-gradient(circle at center, rgba(30, 0, 0, 0.8) 0%, rgba(30, 0, 0, 0.7) 55%, rgba(17, 24, 39, 0.4) 75%);
  filter: blur(200px);
  opacity: 0.85;
}

body > * {
  position: relative;
  z-index: 1;
}
#brandbar{
  position:sticky;
  top:0;
  z-index:3;
  display:flex;
  align-items:center;
  gap:12px;
  padding:10px 14px;
  color:#fff;
  border-bottom:1px solid rgba(148,163,184,0.25);
}
#brandbar .brand{
  font-weight:700;
  letter-spacing:.3px;
  display:flex;
  align-items:center;
}
#brandbar .nav{
  display:flex;
  align-items:center;
  gap:10px;
  margin-left:10px;
  flex-wrap:wrap;
}
#brandbar .nav a{
  color:#d1d5db; text-decoration:none; padding:6px 10px; font-size:13px;
  border:none;
  background:none;
  box-shadow:0 22px 48px -30px rgba(220,38,38,0.55);
  border-radius:0;
  transition:color .2s ease;
}
#brandbar .nav a:hover{
  color:#f8fafc;
}
#brandbar .nav a.active{
  color:#f8fafc;
  border:1px solid rgba(248,113,113,0.6);
  border-radius:10px;
  background: linear-gradient(0deg, rgba(91, 4, 4, 0.92) 0%, rgba(169, 1, 17, 0.9) 68%, rgba(211, 0, 25, 0.85) 100%);
  box-shadow:0 22px 48px -30px rgba(220,38,38,0.55);
}
#brandbar .nav-info{
  margin-left:auto;
  font-size:12px;
  color:#9ca3af;
  text-align:right;
  line-height:1.4;
}

/* Layout */
#app{display:flex;min-height:calc(100vh - 44px)}

/* Sivupalkki oikealla */
#sidebar{
  width:clamp(300px, 35vw, 600px);
  
  border-left:1px solid #1f2937; /* oikea reuna */
  border-right:none;
  padding:12px;
  display:flex;flex-direction:column;gap:10px;overflow:auto;
  order:2;
}
#sidebar h2{margin:4px 0 8px;font-size:16px;color:#e5e7eb}
.import-box{display:flex;flex-direction:column;gap:8px;margin-bottom:6px}
.hint{margin:0;color:#94a3b8;font-size:12px}
.warn{
  margin:0;color:#fcd34d;
  border:1px solid #b45309;padding:6px 8px;border-radius:6px;font-size:12px
}

/* Kehyslista */
.thumbs{display:grid;grid-template-columns:repeat(2,1fr);gap:8px}
.frame-item{
  display:flex;flex-direction:column;gap:4px;padding:6px;
  border:1px solid #1f2937;border-radius:8px;
   cursor:pointer; transition:.15s
}
.frame-item:hover{box-shadow:0 22px 48px -30px rgba(220,38,38,0.55);
  background: linear-gradient(0deg, rgba(91, 4, 4, 0.92) 0%, rgba(169, 1, 17, 0.9) 68%, rgba(211, 0, 25, 0.85) 100%);
  box-shadow:0 22px 48px -30px rgba(220,38,38,0.55);
}
.frame-thumb-wrap{ max-width:120px; margin:0 auto; }
.frame-thumb{width:100%;aspect-ratio:16/9;border-radius:6px;display:block}
.frame-caption{text-align:center;font-size:11px;color:#cbd5e1}

/* Main / toolbar */
#main{flex:1;display:flex;flex-direction:column;order:1}
.toolbar{
  display:flex;align-items:center;gap:6px;flex-wrap:wrap;
  padding:8px 10px;border-bottom:1px solid #1f2937;
   position:sticky; top:0; z-index:2
}

/* Napit */
.file-btn{
  position:relative;overflow:hidden;
  padding:6px 10px;border-radius:8px;
  cursor:pointer;font-size:13px;
}
.file-btn input{position:absolute;inset:0;opacity:0;cursor:pointer}

button{border:none;border-radius:8px;padding:6px 10px;font-size:13px;cursor:pointer}
button:disabled{opacity:.5;cursor:not-allowed}

/* Punaiset yhten√§iset napit */
.btn-danger, .file-btn.btn-danger{
  background: linear-gradient(0deg, rgba(91, 4, 4, 0.92) 0%, rgba(169, 1, 17, 0.9) 68%, rgba(211, 0, 25, 0.85) 100%);
  color:#f8fafc;
  border:1px solid rgba(248,113,113,0.6);
  transition:background .2s ease, border-color .2s ease, transform .2s ease, box-shadow .2s ease;
  box-shadow:0 22px 48px -30px rgba(220,38,38,0.55);
}
.btn-danger.small,
.file-btn.btn-danger.small{
  padding:8px 16px;
  font-size:12px;
  border-radius:10px;
}
.btn-danger:hover, .file-btn.btn-danger:hover{
  background: linear-gradient(0deg, rgba(91, 4, 4, 0.92) 0%, rgba(169, 1, 17, 0.9) 68%, rgba(211, 0, 25, 0.85) 100%);
  border-color:rgba(148,163,184,0.55);
  box-shadow:0 22px 48px -30px rgba(220,38,38,0.55);
  transform:translateY(-2px);
}

#downloadBtn,
#downloadBaseBtn{
  
  color:#fff;
  border:1px solid rgba(248,113,113,0.6);
  box-shadow:0 22px 48px -30px rgba(220,38,38,0.55);
}
#downloadBtn:hover,
#downloadBaseBtn:hover{
  
  border-color:#dc2626;
  transform:translateY(-1px);
}

/* Divider */
.divider{
  width:1px; height:24px;
  
  margin:0 6px;
  align-self:center;
}

/* Canvas */
#canvasWrap{display:flex;flex-direction:column;align-items:center;gap:6px;padding:12px}
#previewCanvas{
  width:960px;height:540px;
   /* kirkkaan punainen tausta */
  border-radius:8px;border:1px solid #e5e7eb;touch-action:none
}
#hint{margin:0;color:#94a3b8;font-size:12px}

/* Controls */
.controls{padding:0 12px 12px}
.panel{
   border:1px solid #1f2937; border-radius:8px; overflow:hidden
}
.panel-header{
  display:flex;justify-content:space-between;align-items:center;
  padding:6px 10px;border-bottom:1px solid #1f2937;font-size:13px;color:#e5e7eb
}
.panel-header h3{margin:0;font-size:13px}
.controls-grid{display:grid;grid-template-columns:repeat(4,minmax(180px,1fr));gap:10px;padding:10px}
.card{
  border:1px solid #1f2937;border-radius:6px;padding:8px;
  display:flex;flex-direction:column;gap:4px
}
.card-title{font-weight:600;font-size:12px;margin-bottom:2px;color:#e5e7eb}
label{font-size:12px;color:#cbd5e1}
input[type=range]{width:100%;height:20px;margin:2px 0}
select{
  height:28px;border-radius:6px;border:1px solid rgba(248,113,113,0.3);
  color:#e5e7eb;padding:2px 8px;font-size:12px
}
.range-readout{font-size:11px;color:#9ca3af}
.checkbox{display:flex;align-items:center;font-size:12px;gap:6px;color:#e5e7eb}
.chiprow{display:flex;flex-wrap:wrap;gap:6px}
.chip{
  font-size:11px;padding:4px 8px;border-radius:999px;
  border:1px solid rgba(248,113,113,0.3);
  color:#e5e7eb;cursor:pointer
}
.chip.active{
  background: linear-gradient(0deg, rgba(91, 4, 4, 0.92) 0%, rgba(169, 1, 17, 0.9) 68%, rgba(211, 0, 25, 0.85) 100%);
  color:#f8fafc;
  border-color:rgba(148,163,184,0.55);
  box-shadow:0 22px 48px -30px rgba(220,38,38,0.55);
}
.subhint{font-size:11px;color:#94a3b8}

/* Responsiivisuus */
@media(max-width:1600px){.controls-grid{grid-template-columns:repeat(3,minmax(180px,1fr))}}
@media(max-width:1200px){.controls-grid{grid-template-columns:repeat(2,minmax(180px,1fr))}}
@media(max-width:800px){.controls-grid{grid-template-columns:1fr}}
@media(max-width:1100px){#previewCanvas{width:100%;height:auto}}






















